generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Utente {
  id         Int    @id @default(autoincrement())
  nomeUtente String @unique
  password   String
}

model Cliente {
  id             Int      @id @default(autoincrement())
  nomeCliente    String
  ragioneSociale String
  partitaIva     String
  telefono       String
  email          String
  createdAt      DateTime @default(now())
}

model Imballaggio {
  id         Int      @id @default(autoincrement())
  tipo       String
  dimensioni String
  capacitaKg Int
  note       String?
  createdAt  DateTime @default(now())
}

model Prodotto {
  id        Int      @id @default(autoincrement())
  nome      String
  varieta   String
  calibro   String
  colore    String
  createdAt DateTime @default(now())
}

model Bolla {
  id             Int               @id @default(autoincrement())
  numero         Int
  data           DateTime
  causale        String
  clienteId      Int
  articoli       Articolo[]
  cliente        Cliente           @relation(fields: [clienteId], references: [id])
  imballaggiResi ImballaggioReso[]
}

model Articolo {
  id          Int    @id @default(autoincrement())
  bollaId     Int
  prodotto    String
  qualita     String
  prezzo      Float
  imballaggio String
  nColli      Int
  pesoLordo   Int
  pesoNetto   Int
  bolla       Bolla  @relation(fields: [bollaId], references: [id])
}

model ImballaggioReso {
  id             Int    @id @default(autoincrement())
  bollaId        Int
  tipologia      String
  valore         Float
  daTrasportare  Int
  totaliARendere Int
  bolla          Bolla  @relation(fields: [bollaId], references: [id])
}
