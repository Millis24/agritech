generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Utente {
  id         Int    @id @default(autoincrement())
  nomeUtente String @unique
  password   String
}

model Cliente {
  id             Int      @id @default(autoincrement())
  nomeCliente    String
  ragioneSociale String
  partitaIva     String
  telefono       String
  email          String
  createdAt      DateTime @default(now())
}

model Imballaggio {
  id         Int      @id @default(autoincrement())
  prezzo     Float    @default(0)
  tipo       String
  dimensioni String
  capacitaKg Int
  note       String?
  createdAt  DateTime @default(now())
}

model Prodotto {
  id        Int      @id @default(autoincrement())
  nome      String
  varieta   String
  calibro   String
  colore    String
  createdAt DateTime @default(now())
}

model Bolla {
  id                     Int      @id @default(autoincrement())
  numeroBolla            Int      @unique
  dataOra                DateTime
  destinatarioNome       String
  destinatarioIndirizzo  String
  destinatarioEmail      String
  destinatarioTelefono   String
  destinatarioPartitaIva String
  destinatarioCodiceSDI  String
  indirizzoDestinazione  String
  causale                String
  prodotti               String
  daTrasportare          String
  daRendere              String
  consegnaACarico        String
  vettore                String
  synced                     Boolean @default(false)
  createdAt              DateTime @default(now())

  // Relazioni
  articoli       Articolo[]
  imballaggiResi ImballaggioReso[]
}

model Articolo {
  id          Int    @id @default(autoincrement())
  bollaId     Int
  prodotto    String
  qualita     String
  prezzo      Float
  imballaggio String
  nColli      Int
  pesoLordo   Int
  pesoNetto   Int
  bolla       Bolla  @relation(fields: [bollaId], references: [id])
}

model ImballaggioReso {
  id             Int    @id @default(autoincrement())
  bollaId        Int
  tipologia      String
  valore         Float
  daTrasportare  Int
  totaliARendere Int
  bolla          Bolla  @relation(fields: [bollaId], references: [id])
}
